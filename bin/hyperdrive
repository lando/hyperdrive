#!/usr/bin/env node

const argv = require('./../utils/argv');

// Check for --debug and internally set DEBUG=* if its set
if ((process.env.DEBUG === undefined || process.env.DEBUG === null || process.env.DEBUG === '') && argv.hasOption('--debug')) {
  require('debug').enable(argv.getOption('--debug', {defaultValue: '*'})); // eslint-disable-line node/no-extraneous-require
}

require('@oclif/command')
.run()
.then(require('@oclif/command/flush'))
// eslint-disable-next-line node/no-unpublished-require
.catch(require('@oclif/errors/handle'));
