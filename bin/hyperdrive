#!/usr/bin/env node

// Check for --debug and internally set DEBUG=* if its set
// @TODO: we should make debug a string flag so it can work like setting DEBUG=something
// @TODO: should we handle --debug on our own or use something lightweight like minimist?
// @TODO: or maybe add this as a util?
// @TODO: we should give preference to process.env.DEBUG if its set.
if (process.argv.slice(2).find(element => element === '--debug') === '--debug') {
  require('debug').enable('*'); // eslint-disable-line node/no-extraneous-require
}

require('@oclif/command')
.run()
.then(require('@oclif/command/flush'))
.catch(require('@oclif/errors/handle'));
